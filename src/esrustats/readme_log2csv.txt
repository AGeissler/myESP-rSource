Notes on log2csv, a console application that converts
standard waxrec log files to a csv format (all data for all
sensors at 5 minute intervals on one line). There is also
a header line with title for each column (sensor id + unit).

To compile:

Assumes the GNU tool chain in available (gcc + gfortran).
All files needed are in the folder.

  make -f Makefile_log2csv

This creates executable log2csv.

If you want to tidy up the folder issue the command:

  make -f Makefile_log2csv clean

All of the source is under GPL. If you change it pass back
the changes to me so that I can incorporate the improvements.

How to use:

Current command line arguments can be found via:
  ./log2csv -help

It can work with hourly log files as well as if
you concatenate all log files for a day into one file.
Command line options
  -act b   tells it standard BAM log file expected
  -act c   tells it -format:units expected (needs a bit of work)
  -act s   tells it -format:short expected (not yet implemented)
  -file name_of_log_file
  -tol <seconds> where seconds is 10 20 30 40 which allows for
     log entries near the 5 minute marks to be identified. If you
     do not say anything then 30 seconds is used.

  ./log2csv -act b -file xx.csv

It creates a new file xx.text. So given the log file 
2012-12-19-01-00-00.csv you get 2012-12-19-01-00-00.text

BAM summary 
# number of sensors  9
 # sensor list           83         100         103         106         114         115         116         118         119           0           0           0
#JulianTime,yyyy-mm-dd hh:mm:ss,s083_degC,s083_Lux,s083_RH,s083_PIR,s083_dbA,s100_degC,s100_Lux,s100_RH,s100_PIR,s100_dbA,s103_degC,s103_Lux,s103_RH,s103_PIR,s103_dbA,s106_degC,s106_Lux,s106_RH,s106_PIR,s106_dbA,s114_degC,s114_Lux,s114_RH,s114_PIR,s114_dbA,s115_degC,s115_Lux,s115_RH,s115_PIR,s115_dbA,s116_degC,s116_Lux,s116_RH,s116_PIR,s116_dbA,s118_degC,s118_Lux,s118_RH,s118_PIR,s118_dbA,s119_degC,s119_Lux,s119_RH,s119_PIR,s119_dbA, 
353.040052,2012-12-19 01:00:13,19.973,42.408,46.763,289.00,53.815,21.786,1.0204,42.037,276.00,32.355,18.255,47.491,46.103,214.00,53.232,20.352,285.00,46.187,285.00,62.794,17.840,0.97998,40.126,249.00,66.403,20.104,26.534,46.846,252.00,55.191,20.447,28.537,44.835,276.00,58.299,19.736,24.872,47.794,239.00,54.702,20.660,34.368,45.493,282.00,55.191
353.044952,2012-12-19 01:04:44,19.973,38.487,46.763,277.00,60.289,21.869,1.0204,41.952,661.00,43.528,18.255,44.158,46.187,211.00,62.794,20.400,285.00,46.608,269.00,49.444,17.887,30.198,40.339,258.00,42.059,20.139,33.275,47.000,255.00,63.778,20.483,30.690,45.029,297.00,61.674,19.736,10.992,47.920,254.00,59.946,20.672,25.689,45.736,281.00,60.289
353.048523,2012-12-19 01:09:51,20.056,45.979,47.205,278.00,50.358,21.869,1.0204,41.867,291.00,29.087,18.290,51.908,46.317,215.00,52.156,20.447,285.00,46.686,282.00,56.765,17.887,1.1708,40.550,256.00,48.772,20.151,26.534,47.147,256.00,54.359,20.506,48.265,45.221,290.00,50.914,19.772,18.742,48.020,243.00,51.178,20.708,39.752,45.946,279.00,50.640
353.052002,2012-12-19 01:14:54,20.151,60.526,47.281,283.00,70.852,21.952,1.0204,41.803,300.00,42.059,18.314,45.609,46.473,198.00,63.612,20.483,285.00,46.608,274.00,50.358,17.959,1.1803,40.660,256.00,44.173,20.186,36.665,47.300,255.00,63.668,20.530,38.177,45.460,297.00,63.387,19.795,18.146,48.227,240.00,68.288,20.720,59.076,46.076,314.00,66.674
353.055450,2012-12-19 01:19:52,20.269,62.012,47.592,295.00,53.626,21.964,1.0204,41.746,287.00,34.674,18.350,62.012,46.634,235.00,51.682,20.530,285.00,46.634,278.00,46.336,17.911,1.3433,40.096,257.00,39.184,20.222,42.753,47.465,259.00,55.501,20.578,36.665,45.841,306.00,61.386,19.831,15.436,48.401,296.00,53.626,20.743,55.826,46.213,277.00,54.868
353.058929,2012-12-19 01:24:51,20.269,66.156,48.070,282.00,75.059,21.869,1.0204,42.037,277.00,58.191,18.397,62.012,46.943,208.00,63.037,20.542,285.00,46.557,265.00,51.922,17.887,1.1803,40.368,267.00,42.059,20.281,43.450,47.712,264.00,74.075,20.613,41.392,46.135,293.00,62.087,19.867,20.320,48.699,254.00,60.289,20.767,64.571,46.505,283.00,60.618
353.062408,2012-12-19 01:29:52,20.317,65.623,48.070,317.00,50.914,21.810,1.0122,42.241,280.00,29.087,18.409,75.903,47.077,282.00,54.868,20.554,285.00,46.505,287.00,46.336,17.840,49.052,40.550,261.00,39.184,20.305,43.802,47.813,254.00,61.603,20.660,42.408,46.343,306.00,51.434,19.878,23.314,48.872,246.00,56.087,20.803,47.491,46.711,288.00,53.431
353.065918,2012-12-19 01:34:55,20.317,67.780,48.202,277.00,65.833,21.810,1.0122,42.241,280.00,29.087,18.456,65.623,47.281,216.00,54.702,20.578,285.00,47.051,392.00,57.269,17.781,27.853,42.347,264.00,49.760,20.364,63.023,47.920,258.00,61.674,20.672,51.075,46.498,305.00,59.858,19.926,25.074,48.872,288.00,50.064,20.826,47.491,46.634,294.00,56.765
353.069397,2012-12-19 01:39:55,20.352,65.623,48.326,286.00,53.431,21.810,1.0122,42.241,280.00,29.087,18.444,70.008,47.306,216.00,55.944,20.660,285.00,47.617,278.00,60.289,17.876,38.800,42.795,255.00,53.028,20.352,62.012,48.014,259.00,71.141,20.684,54.930,46.447,299.00,73.492,19.949,28.768,48.798,245.00,49.115,20.838,64.571,46.789,282.00,71.911
353.072876,2012-12-19 01:44:55,20.376,74.686,48.451,275.00,49.115,21.810,1.0122,42.241,280.00,29.087,18.468,70.008,47.434,214.00,55.944,20.684,285.00,47.769,279.00,65.620,18.006,36.077,42.550,267.00,59.308,20.400,70.008,48.195,272.00,54.868,20.708,56.736,46.763,299.00,52.819,19.961,26.749,49.191,284.00,53.028,20.850,285.00,47.128,282.00,51.434
353.076294,2012-12-19 01:49:52,20.341,64.571,48.476,317.00,66.482,21.703,1.0204,42.969,277.00,42.059,18.492,75.292,47.567,251.00,67.154,20.732,285.00,47.743,273.00,68.381,18.030,34.647,41.101,401.00,54.702,20.388,87.086,48.239,263.00,67.538,20.708,68.330,46.789,308.00,68.653,20.032,25.074,49.191,286.00,65.576,20.874,70.576,47.230,300.00,66.973
353.079803,2012-12-19 01:54:55,20.341,83.636,48.550,296.00,70.458,21.751,1.0204,42.934,279.00,36.472,18.492,82.295,47.668,303.00,74.758,20.732,285.00,47.718,316.00,73.875,18.077,20.320,41.682,258.00,71.314,20.364,94.420,48.264,268.00,73.702,20.720,75.292,46.917,354.00,59.308,20.032,25.074,49.191,286.00,65.576,20.874,71.149,47.281,278.00,55.651
353.079803,2012-12-19 01:59:55,20.305,88.506,48.251,311.00,74.841,21.727,1.0122,43.052,277.00,54.359,18.504,63.535,47.693,259.00,74.896,20.779,285.00,47.895,287.00,55.347,18.207,36.665,42.051,305.00,63.444,20.364,94.420,48.264,268.00,73.702,20.720,60.039,46.917,306.00,75.630,20.056,29.002,49.191,249.00,74.575,20.886,74.686,47.205,293.00,75.362


There is also a Makefile_bam which can be used if the code is embedded within
the ESP-r source distribution.
